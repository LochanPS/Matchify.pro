### Wallet System API Tests
### Make sure to replace YOUR_JWT_TOKEN with actual token from login

### 1. Get wallet balance
GET http://localhost:5000/api/wallet/balance
Authorization: Bearer YOUR_JWT_TOKEN

### 2. Get wallet summary
GET http://localhost:5000/api/wallet/summary
Authorization: Bearer YOUR_JWT_TOKEN

### 3. Create top-up order
POST http://localhost:5000/api/wallet/topup
Authorization: Bearer YOUR_JWT_TOKEN
Content-Type: application/json

{
  "amount": 500
}

### 4. Verify payment (after Razorpay payment)
POST http://localhost:5000/api/wallet/topup/verify
Authorization: Bearer YOUR_JWT_TOKEN
Content-Type: application/json

{
  "razorpay_order_id": "order_xxxxx",
  "razorpay_payment_id": "pay_xxxxx",
  "razorpay_signature": "signature_xxxxx"
}

### 5. Get transaction history
GET http://localhost:5000/api/wallet/transactions?page=1&limit=10
Authorization: Bearer YOUR_JWT_TOKEN

### 6. Get transactions by type
GET http://localhost:5000/api/wallet/transactions?type=TOPUP&page=1&limit=5
Authorization: Bearer YOUR_JWT_TOKEN

### 7. Deduct amount (for tournament registration)
POST http://localhost:5000/api/wallet/deduct
Authorization: Bearer YOUR_JWT_TOKEN
Content-Type: application/json

{
  "amount": 100,
  "description": "Tournament registration fee",
  "referenceId": "tournament_123"
}

### 8. Refund amount (for tournament cancellation)
POST http://localhost:5000/api/wallet/refund
Authorization: Bearer YOUR_JWT_TOKEN
Content-Type: application/json

{
  "amount": 100,
  "description": "Tournament cancellation refund",
  "referenceId": "tournament_123"
}

### 9. Test webhook endpoint
POST http://localhost:5000/api/webhooks/test
Content-Type: application/json

{
  "test": "webhook test data",
  "timestamp": "2024-01-01T00:00:00Z"
}

### 10. Test validation - Invalid amount (too low)
POST http://localhost:5000/api/wallet/topup
Authorization: Bearer YOUR_JWT_TOKEN
Content-Type: application/json

{
  "amount": 5
}

### 11. Test validation - Invalid amount (too high)
POST http://localhost:5000/api/wallet/topup
Authorization: Bearer YOUR_JWT_TOKEN
Content-Type: application/json

{
  "amount": 200000
}

### 12. Test validation - Invalid amount (not a number)
POST http://localhost:5000/api/wallet/topup
Authorization: Bearer YOUR_JWT_TOKEN
Content-Type: application/json

{
  "amount": "invalid"
}